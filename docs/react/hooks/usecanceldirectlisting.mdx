---
title: useCancelDirectListing
slug: /react/react.usecanceldirectlisting
displayed_sidebar: react
---

Hook for canceling a direct listing on a marketplace v3 contract.

Only the creator of the listing can cancel it.

Direct listings can be canceled at any time, (unless the listing has already been sold).

:::info Marketplace V3

**Note: This hook is only for [Marketplace V3](https://thirdweb.com/thirdweb.eth/MarketplaceV3) contracts.**

For [Marketplace](https://thirdweb.com/thirdweb.eth/Marketplace)
contracts, use [useCancelListing](/react/hooks/usecancellisting) instead.

:::

```jsx
import { useCancelDirectListing } from "@thirdweb-dev/react";
```

## Usage

```jsx
import {
  useCancelDirectListing,
  useContract,
  Web3Button,
} from "@thirdweb-dev/react";
import { ListingType } from "@thirdweb-dev/sdk";

// Your smart contract address
const contractAddress = "{{contract_address}}";

// The ID of the listing you want to cancel
const listingId = "{{listing_id}}";

function App() {
  const { contract } = useContract(contractAddress, "marketplace-v3");
  const {
    mutateAsync: cancelDirectListing,
    isLoading,
    error,
  } = useCancelDirectListing(contract);

  return (
    <Web3Button
      contractAddress={contractAddress}
      action={() => cancelDirectListing(listingId)}
    >
      Cancel Direct Listing
    </Web3Button>
  );
}
```
